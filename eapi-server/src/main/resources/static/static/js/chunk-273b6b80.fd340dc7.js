(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-273b6b80"],{"2da9":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"group"},["1"===t.currUserRole||"2"===t.currUserRole?r("i-col",{attrs:{span:"24"}},[r("div",{staticClass:"wrapper-content"},[r("h2",{staticClass:"title-border"},[t._v("项目组信息")])]),r("div",{staticClass:"wrapper-content box"},[r("Form",{attrs:{model:t.group,"label-width":100}},[r("FormItem",{attrs:{label:"项目组名称"}},[r("Input",{attrs:{type:"text"},model:{value:t.group.name,callback:function(e){t.$set(t.group,"name",e)},expression:"group.name"}})],1),r("FormItem",{attrs:{label:"项目组描述"}},[r("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5}},model:{value:t.group.description,callback:function(e){t.$set(t.group,"description",e)},expression:"group.description"}})],1),r("FormItem",[r("Button",{staticStyle:{float:"right"},attrs:{type:"success"},on:{click:t.updateGroup}},[t._v("修改")])],1)],1)],1)]):t._e(),"1"!==t.currUserRole?r("i-col",{attrs:{span:"24"}},[r("div",{staticClass:"wrapper-content"},[r("h2",{staticClass:"title-border"},[t._v("退出项目组")])]),r("Form",{attrs:{model:t.group,"label-width":100}},[r("FormItem",{attrs:{"label-width":-1}},[r("Button",{attrs:{type:"error",long:""},on:{click:t.quitGroup}},[t._v("退出此项目组")])],1)],1)],1):t._e(),"1"===t.currUserRole?r("i-col",{attrs:{span:"24"}},[r("div",{staticClass:"wrapper-content"},[r("h2",{staticClass:"title-border"},[t._v("删除项目组")])]),r("div",{staticClass:"wrapper-content box danger-box"},[r("Form",{attrs:{model:t.group,"label-width":100}},[r("p",[t._v("此操作不可逆，将删除"),r("b",[t._v(t._s(t.group.name))]),t._v(", 及以下所有项目、用户，且"),r("b",[t._v("不可恢复")]),t._v("！")]),r("br"),r("p",[t._v("请输入项目组名称以进行确认:")]),r("br"),r("Input",{attrs:{placeholder:"项目组名称"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}}),r("br"),r("br"),r("FormItem",{attrs:{"label-width":-1}},[t.showDeleteButton?r("Button",{attrs:{type:"error",long:""},on:{click:t.handleRemove}},[t._v("我已了解风险，删除此项目组")]):r("Button",{attrs:{type:"error",long:"",disabled:""}},[t._v("我已了解风险，删除此项目组")])],1)],1)],1)]):t._e()],1)},o=[],a=(r("7f7f"),r("ae31")),s={props:{groupId:String,currUserRole:String,group:Object},data:function(){return{title:"",showDeleteButton:!1}},methods:{handleRemove:function(){var t=this;Object(a["N"])({id:this.groupId},(function(e){t.$Message.success("删除成功！"),window.location.reload()}))},updateGroup:function(){var t=this;Object(a["R"])(this.group,(function(){t.$Message.success("修改成功!"),t.$emit("update")}))},quitGroup:function(){var t=this;this.$Modal.confirm({title:"确认退出？",content:"<p>确认退出 <b>["+this.group.name+"]</b> 吗？</p>",onOk:function(){Object(a["V"])({groupId:t.groupId},(function(e){t.$Message.success("退出成功!"),t.$emit("quit")}))}})}},watch:{title:function(t,e){t===this.group.name?this.showDeleteButton=!0:this.showDeleteButton=!1}},mounted:function(){}},i=s,l=r("2877"),u=Object(l["a"])(i,n,o,!1,null,null,null);e["a"]=u.exports},3559:function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"member"},["1"===t.currUserRole||"2"===t.currUserRole?r("i-col",{attrs:{span:"24"}},[r("div",{staticClass:"wrapper-content clearfix"},[r("h2",{staticClass:"title-border"},[t._v("添加成员")])]),r("div",{staticClass:"wrapper-content box"},[r("Form",{ref:"formItem",attrs:{model:t.formItem,"label-width":80,rules:t.ruleValidate}},[r("FormItem",{attrs:{label:"用户",prop:"users"}},[r("Select",{attrs:{multiple:"",filterable:"",remote:"","remote-method":t.remoteUser,loading:t.loading2,placeholder:"请输入用户名"},model:{value:t.formItem.users,callback:function(e){t.$set(t.formItem,"users",e)},expression:"formItem.users"}},t._l(t.options,(function(e,n){return r("Option",{key:n,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1),r("FormItem",{attrs:{label:"角色",prop:"role"}},[r("Select",{model:{value:t.formItem.role,callback:function(e){t.$set(t.formItem,"role",e)},expression:"formItem.role"}},[r("Option",{attrs:{value:"2"}},[t._v("管理员")]),r("Option",{attrs:{value:"3"}},[t._v("开发者")]),r("Option",{attrs:{value:"4"}},[t._v("观察者")])],1)],1),r("FormItem",[r("Button",{staticStyle:{float:"right"},attrs:{type:"success"},on:{click:t.addMember}},[t._v("添加成员")])],1)],1)],1)]):t._e(),r("i-col",{attrs:{span:"24"}},[r("div",{staticClass:"wrapper-content"},[r("h2",{staticClass:"title-border"},[t._v("「"+t._s(t.group.name)+"」成员")])]),r("Table",{staticStyle:{"margin-bottom":"60px"},attrs:{columns:t.columns1,data:t.data1}})],1)],1)},o=[],a=(r("ac6a"),r("96cf"),r("3b8d")),s=(r("7f7f"),r("ae31")),i={props:{groupId:String,currUserRole:String,group:Object},data:function(){var t=this;return{formItem:{groupId:this.groupId,users:[],role:""},options:[],loading2:!1,columns1:[{renderHeader:function(t,e){return[t("Icon",{props:{type:"md-person"}}),t("span"," 用户名")]},key:"userName",render:function(e,r){var n=[e("span",r.row.userName+" ")];return r.row.userId===t.$store.state.app.user.id&&n.push(e("Tag",{props:{color:"success",type:"border"}},"你")),e("div",n)}},{title:"角色",key:"role",render:function(e,r){var n="",o="3"===t.currUserRole||"4"===t.currUserRole;switch(r.row.role){case"1":n="创建者",o=!0;break;case"2":n="管理员";break;case"3":n="开发者";break;case"4":n="观察者";break}return e("Dropdown",{props:{trigger:"click"},on:{"on-click":function(e){r.row.role!==e&&Object(s["W"])({groupUserId:r.row.id,role:e},(function(e){t.init(),t.$emit("change")}))}}},[e("Button",{props:{type:"info",disabled:o,size:"small",ghost:!0}},n),e("DropdownMenu",{slot:"list"},[e("DropdownItem",{props:{name:"2"}},"管理者"),e("DropdownItem",{props:{name:"3"}},"开发者"),e("DropdownItem",{props:{name:"4"}},"观察者")])])}},{title:"加入时间",key:"joinTime",render:function(t,e){return t("span",e.row.joinTime.substring(0,10))}},{title:"操作",width:120,render:function(e,r){return"1"===r.row.role?null:"1"===t.currUserRole?e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",display:"1"===r.row.role?"none":""},on:{click:function(){t.$Modal.confirm({title:"确认转交？",content:"<p>确认将项目组转交给"+r.row.userName+" 么？</p>",onOk:function(){Object(s["Q"])({groupId:t.groupId,transferId:r.row.userId},(function(e){t.init(),t.$emit("change")}))}})}}},"转交"),e("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.$Modal.confirm({title:"确认删除？",content:"<p>确认将用户"+r.row.userName+" 从项目组中删除么？</p>",onOk:function(){Object(s["V"])({groupId:t.groupId,userId:r.row.userId},(function(e){t.init()}))},onCancel:function(){t.$Message.success("取消删除！")}})}}},"删除")]):t.$store.state.app.user.id===r.row.userId?e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",display:"1"===r.row.role?"none":""},on:{click:function(){t.$Modal.confirm({title:"确认退出？",content:"<p>确认退出 <b>["+t.group.name+"]</b> 吗？</p>",onOk:function(){Object(s["V"])({groupId:t.groupId},(function(e){t.$emit("quit")}))}})}}},"退出")]):null}}],data1:[],ruleValidate:{users:[{required:!0,type:"array",message:"请选择用户",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"blur"}]}}},methods:{init:function(){var t=this;Object(s["T"])({groupId:this.groupId},(function(e){t.data1=e.body}))},remoteUser:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.options=[],e){t.next=3;break}return t.abrupt("return");case 3:return this.loading2=!0,t.next=6,Object(s["U"])({username:e,groupId:this.groupId},(function(t){r.loading2=!1,t.body.forEach((function(t){r.options.push({value:t.userName,label:t.userName})}))}));case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),addMember:function(){var t=this,e=this;this.$refs["formItem"].validate(function(){var r=Object(a["a"])(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:n&&Object(s["S"])(t.formItem,(function(t){e.init(),e.$Message.success("添加成功！"),e.formItem.users=[],e.formItem.role=""}));case 1:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())}},watch:{groupId:{handler:function(t,e){this.formItem.groupId=t,this.init()}}},mounted:function(){this.init()}},l=i,u=r("2877"),c=Object(u["a"])(l,n,o,!1,null,null,null);e["a"]=c.exports},"4a60":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"permission"},[t._m(0),r("div",{staticClass:"wrapper-content box"},[r("Form",{attrs:{model:t.group,"label-width":140}},[r("FormItem",{staticStyle:{float:"left"},attrs:{label:"用户申请验证方式："}},[r("RadioGroup",{on:{chang:function(e){t.group.verifyRole=null}},model:{value:t.group.verify,callback:function(e){t.$set(t.group,"verify",e)},expression:"group.verify"}},[r("Radio",{attrs:{label:"1"}},[t._v("需管理员验证")]),r("Radio",{attrs:{label:"2"}},[t._v("自动通过为")])],1)],1),"2"===t.group.verify?r("FormItem",{staticStyle:{width:"500px",float:"right"},attrs:{label:"","label-width":-1}},[r("Select",{model:{value:t.group.verifyRole,callback:function(e){t.$set(t.group,"verifyRole",e)},expression:"group.verifyRole"}},[r("Option",{attrs:{value:"2"}},[t._v("管理员")]),r("Option",{attrs:{value:"3"}},[t._v("开发者")]),r("Option",{attrs:{value:"4"}},[t._v("观察者")])],1)],1):t._e(),r("div",{staticClass:"clearfix"}),r("FormItem",[r("Button",{staticStyle:{float:"right"},attrs:{type:"success"},on:{click:t.updatePremission}},[t._v("修改")])],1)],1)],1),t._m(1),r("Table",{staticStyle:{"margin-bottom":"60px"},attrs:{columns:t.columns2,data:t.data2}})],1)},o=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper-content"},[r("h2",{staticClass:"title-border"},[t._v("权限控制")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper-content"},[r("h2",{staticClass:"title-border"},[t._v("申请列表")])])}],a=(r("7f7f"),r("ae31")),s={props:{group:Object},data:function(){return{columns2:[{renderHeader:function(t,e){return[t("Icon",{props:{type:"md-person"}}),t("span"," 用户名")]},key:"name",render:function(t,e){return t("div",[t("span",e.row.name+" ")])}},{title:"申请时间",key:"date"},{title:"申请理由",key:"reason"},{title:"操作",width:120,render:function(t,e){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px",display:1===e.row.roleType?"none":""},on:{click:function(){}}},"通过"),t("Button",{props:{type:"error",size:"small"},style:{marginRight:"5px"},on:{click:function(){}}},"拒绝")])}}],data2:[{name:"464328772@qq.com",date:"2016-10-03",reason:"项目开发"},{name:"17611221187",date:"2016-10-03",reason:"看看"}],formItem:{title:"",description:""}}},methods:{updatePremission:function(){var t=this;Object(a["R"])(this.group,(function(){t.$Message.success("修改成功!"),t.$emit("update")}))}}},i=s,l=r("2877"),u=Object(l["a"])(i,n,o,!1,null,null,null);e["a"]=u.exports},"7f7f":function(t,e,r){var n=r("86cc").f,o=Function.prototype,a=/^\s*function ([^ (]*)/,s="name";s in o||r("9e1e")&&n(o,s,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},a892:function(t,e,r){"use strict";var n=r("b3f2"),o=r.n(n);o.a},ac6a:function(t,e,r){for(var n=r("cadf"),o=r("0d58"),a=r("2aba"),s=r("7726"),i=r("32e9"),l=r("84f2"),u=r("2b4c"),c=u("iterator"),p=u("toStringTag"),d=l.Array,m={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=o(m),v=0;v<f.length;v++){var b,g=f[v],h=m[g],_=s[g],y=_&&_.prototype;if(y&&(y[c]||i(y,c,d),y[p]||i(y,p,g),l[g]=d,h))for(b in n)y[b]||a(y,b,n[b],!0)}},b3f2:function(t,e,r){},bc53:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"search-list main-content"},[r("Card",{staticClass:"fl left-content"},[r("Menu",{ref:"groupMenus",attrs:{theme:"light","active-name":t.activeName,width:"152px"},on:{"on-select":t.selectMenu}},[r("Menu-Item",{attrs:{name:"all"}},[t._v("项目组")]),r("Menu-Item",{attrs:{name:"MEME2C_PROJECT"}},[t._v("项目")])],1)],1),r("Card",{staticClass:"fr right-content"},[r("Tabs",{model:{value:t.tabSelect,callback:function(e){t.tabSelect=e},expression:"tabSelect"}},[r("TabPane",{staticStyle:{padding:"10px 20px"},attrs:{label:"搜索结果(5)",name:"result"}},[r("ul",{staticClass:"search-ul"},[r("li",[r("h1",[t._v("美美理财")]),r("p",[r("b",[t._v("简介：")]),t._v(" 美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财")]),r("p",[r("b",[t._v("创建时间：")]),t._v("2018-08-04 "),r("Button",{staticClass:"add-button",attrs:{type:"primary"}},[t._v("加入项目组")])],1)]),r("li",[r("h1",[t._v("美美理财")]),r("p",[r("b",[t._v("简介：")]),t._v("美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财")]),r("p",[r("b",[t._v("创建时间：")]),t._v("2018-08-04 "),r("Button",{staticClass:"add-button",attrs:{type:"primary"}},[t._v("加入项目组")])],1)]),r("li",[r("h1",[t._v("美美理财")]),r("p",[r("b",[t._v("简介：")]),t._v(" 美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财")]),r("p",[r("b",[t._v("创建时间：")]),t._v("2018-08-04 "),r("Button",{staticClass:"add-button",attrs:{type:"primary"}},[t._v("加入项目组")])],1)]),r("li",[r("h1",[t._v("美美理财")]),r("p",[r("b",[t._v("简介：")]),t._v(" 美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财")]),r("p",[r("b",[t._v("创建时间：")]),t._v("2018-08-04 "),r("Button",{staticClass:"add-button",attrs:{type:"primary"}},[t._v("加入项目组")])],1)]),r("li",[r("h1",[t._v("美美理财")]),r("p",[r("b",[t._v("简介：")]),t._v(" 美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财美美理财")]),r("p",[r("b",[t._v("创建时间：")]),t._v("2018-08-04 "),r("Button",{staticClass:"add-button",attrs:{type:"primary"}},[t._v("加入项目组")])],1)])]),r("Page",{staticStyle:{float:"right","margin-top":"30px"},attrs:{total:100,"show-sizer":""}})],1)],1)],1)],1)},o=[],a=(r("ae31"),r("2da9"),r("3559"),r("4a60"),{components:{},data:function(){return{activeName:"all",loading:!0,tabSelect:"result"}},methods:{init:function(){},selectMenu:function(t){},quitGroup:function(){}},watch:{groupId:{handler:function(t,e){}}},mounted:function(){this.init()}}),s=a,i=(r("a892"),r("2877")),l=Object(i["a"])(s,n,o,!1,null,null,null);e["default"]=l.exports}}]);